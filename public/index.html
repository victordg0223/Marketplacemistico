<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marketplace de Magia e Cura</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="#" class="logo" onclick="showPage('marketplace')">‚ú® Marketplace de Magia</a>
            <ul class="nav-links">
                <li><a onclick="navigateHome()">Home</a></li>
                <li><a onclick="showPage('marketplace')">Explorar Produtos</a></li>
                <li><a onclick="showCart()" id="cart-nav-link" class="hidden" style="position: relative;">üõí Carrinho <span id="cart-badge" style="position: absolute; top: -8px; right: -8px; background: rgb(255, 68, 68); color: white; border-radius: 50%; font-size: 12px; font-weight: bold; min-width: 20px; height: 20px; display: none; align-items: center; justify-content: center; border: 2px solid var(--color-background);">0</span></a></li>
                <li><a onclick="showPage('login')" id="nav-login-link" style="display: block;">Login</a></li>
                <li><a onclick="showPage('registro')" id="nav-register-link" style="display: block;">Registrar</a></li>
                <li><a onclick="logout()" id="logout-link" class="hidden">Sair</a></li>
            </ul>
            <button class="hamburger-menu" onclick="toggleMobileSidebar()" aria-label="Abrir menu de navega√ß√£o">
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
                <div class="hamburger-line"></div>
            </button>
        </div>
    </nav>

    <!-- Mobile Sidebar Overlay -->
    <div class="sidebar-overlay" onclick="closeMobileSidebar()"></div>
    
    <!-- Mobile Sidebar -->
    <div class="mobile-sidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">Menu</div>
            <button class="sidebar-close" onclick="closeMobileSidebar()" aria-label="Fechar menu">‚úï</button>
        </div>
        <ul class="sidebar-menu">
            <li><a onclick="navigateHomeFromSidebar()">üè† Home</a></li>
            <li><a onclick="navigateFromSidebar('marketplace')">üîç Explorar Produtos</a></li>
            <li><a onclick="navigateFromSidebar('carrinho')" id="mobile-cart-link" class="hidden">üõí Carrinho (<span id="mobile-cart-count">0</span>)</a></li>
            <li><a onclick="navigateFromSidebar('login')" id="mobile-login-link" style="display: block;">üîë Login</a></li>
            <li><a onclick="navigateFromSidebar('registro')" id="mobile-register-link" style="display: block;">üìù Registrar</a></li>
            <li><a onclick="logoutFromSidebar()" id="mobile-logout-link" class="hidden">üö™ Sair</a></li>
        </ul>
    </div>

    <!-- Login Modal -->
    <div class="login-modal" id="loginModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeLoginModal()">‚úï</button>
            <h3 class="modal-title">Fa√ßa login para adicionar produtos ao carrinho</h3>
            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Para continuar com sua compra, voc√™ precisa fazer login ou criar uma conta.</p>
            <div class="modal-buttons">
                <button class="btn" onclick="goToLogin()">Fazer Login</button>
                <button class="btn btn-outline" onclick="goToRegister()">Criar Conta</button>
            </div>
        </div>
    </div>

    <!-- Become Vendor Modal -->
    <div class="login-modal" id="becomeVendorModal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeBecomeVendorModal()">‚úï</button>
            <h3 class="modal-title">üè™ Tornar-se um Vendedor</h3>
            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">
                Transforme sua paix√£o em neg√≥cio! Complete seu cadastro como vendedor para come√ßar a vender seus produtos m√≠sticos no marketplace.
            </p>
            <div style="background: var(--color-surface-light); padding: var(--space-4); border-radius: var(--radius-md); margin-bottom: var(--space-6);">
                <h4 style="color: var(--color-secondary); margin-bottom: var(--space-3);">‚ú® Benef√≠cios de ser Vendedor:</h4>
                <ul style="color: var(--color-text-secondary); padding-left: var(--space-5); margin: 0;">
                    <li>Alcance milhares de clientes interessados</li>
                    <li>Gerencie seus produtos facilmente</li>
                    <li>Acompanhe suas vendas em tempo real</li>
                    <li>Continue comprando como cliente</li>
                </ul>
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="goToVendorRegistration()">Completar Cadastro</button>
                <button class="btn btn-outline" onclick="closeBecomeVendorModal()">Agora N√£o</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Home Page -->
            <section id="home" class="page">
                <div class="hero">
                    <h1>Marketplace de Magia</h1>
                    <p>Descubra um mundo de produtos m√≠sticos e esot√©ricos. Conecte-se com vendedores especializados e encontre tudo o que precisa para sua jornada espiritual.</p>
                    <div class="hero-buttons">
                        <button class="btn btn-secondary" onclick="setUserTypeAndRegister('vendedor')">üè™ Registrar como Vendedor</button>
                        <button class="btn" onclick="setUserTypeAndRegister('cliente')">üõí Registrar como Cliente</button>
                    </div>
                </div>
            </section>
            
            <!-- Cliente Profile Page -->
            <section id="cliente-profile" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Menu do Cliente</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showPage('marketplace')">üîç Explorar Produtos</a></li>
                            <li><a onclick="showDashboardSection('cliente', 'carrinho')">üõí Meu Carrinho</a></li>
                            <li><a onclick="showDashboardSection('cliente', 'pedidos')">üìã Meus Pedidos</a></li>
                            <li><a onclick="showDashboardSection('cliente', 'perfil')">üë§ Perfil</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    
                    <main class="dashboard-content">
                        <div id="cliente-profile-view-mode">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                                <h2>Meu Perfil</h2>
                                <button class="btn" onclick="enterClienteEditMode()">‚úèÔ∏è Editar Perfil</button>
                            </div>
                            
                            <div class="card" style="margin-bottom: var(--space-6);">
                                <div class="card__body">
                                    <div class="form-group">
                                        <label class="form-label">Nome Completo:</label>
                                        <div id="cliente-display-nome" style="font-weight: 600; color: var(--color-text);"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Email:</label>
                                        <div id="cliente-display-email" style="color: var(--color-text-secondary);"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Telefone:</label>
                                        <div id="cliente-display-telefone"></div>
                                    </div>
                                    
                                    <h4 style="color: var(--color-secondary); margin-bottom: var(--space-4); margin-top: var(--space-6);">Endere√ßo</h4>
                                    
                                    <div class="form-group">
                                        <label class="form-label">CEP:</label>
                                        <div id="cliente-display-cep"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Rua:</label>
                                        <div id="cliente-display-rua"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">N√∫mero:</label>
                                        <div id="cliente-display-numero"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Complemento:</label>
                                        <div id="cliente-display-complemento"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Bairro:</label>
                                        <div id="cliente-display-bairro"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Cidade:</label>
                                        <div id="cliente-display-cidade"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Estado:</label>
                                        <div id="cliente-display-estado"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div id="cliente-profile-edit-mode" style="display: none;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                                <h2>Editar Perfil</h2>
                            </div>
                            
                            <div id="cliente-profile-edit-messages"></div>
                            
                            <form id="editClienteProfileForm" class="card">
                                <div class="card__body">
                                    <div class="form-group">
                                        <label for="edit-cliente-nome" class="form-label">Nome Completo *</label>
                                        <input type="text" id="edit-cliente-nome" class="form-input" required>
                                        <div class="error-message" id="edit-cliente-nome-error">Nome √© obrigat√≥rio</div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label class="form-label">Email (n√£o edit√°vel):</label>
                                        <div id="edit-cliente-display-email" style="color: var(--color-text-secondary); font-style: italic;"></div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-telefone" class="form-label">Telefone</label>
                                        <input type="tel" id="edit-cliente-telefone" class="form-input" placeholder="(11) 99999-9999">
                                    </div>
                                    
                                    <h4 style="color: var(--color-secondary); margin-bottom: var(--space-4); margin-top: var(--space-6);">Endere√ßo</h4>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-cep" class="form-label">CEP</label>
                                        <input type="text" id="edit-cliente-cep" class="form-input" placeholder="00000-000" oninput="formatCep(this)">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-rua" class="form-label">Rua</label>
                                        <input type="text" id="edit-cliente-rua" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-numero" class="form-label">N√∫mero</label>
                                        <input type="text" id="edit-cliente-numero" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-complemento" class="form-label">Complemento</label>
                                        <input type="text" id="edit-cliente-complemento" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-bairro" class="form-label">Bairro</label>
                                        <input type="text" id="edit-cliente-bairro" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-cidade" class="form-label">Cidade</label>
                                        <input type="text" id="edit-cliente-cidade" class="form-input">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="edit-cliente-estado" class="form-label">Estado</label>
                                        <select id="edit-cliente-estado" class="form-select">
                                            <option value="">Selecione um estado</option>
                                        </select>
                                    </div>
                                    
                                    <div style="display: flex; gap: var(--space-4); margin-top: var(--space-6);">
                                        <button type="submit" class="btn" style="flex: 1; background: var(--color-success); color: white;">üíæ Salvar Altera√ß√µes</button>
                                        <button type="button" class="btn btn-outline" onclick="cancelClienteEditMode()" style="flex: 1;">‚ùå Cancelar</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </main>
                </div>
            </section>

            <!-- Registration Page -->
            <section id="registro" class="page">
                <div class="form-container">
                    <h2 class="form-title">Criar Conta</h2>
                    <div id="registration-messages"></div>
                    <button type="button" class="google-btn" onclick="handleGoogleRegister()">
                        <div class="google-icon"></div>
                        Registrar com Google
                    </button>
                    <div class="divider">OU</div>
                    <form id="registrationForm">
                        <div class="form-group">
                            <label class="form-label">Tipo de Usu√°rio</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <input type="radio" id="tipo-cliente" name="tipo" value="cliente" onchange="toggleSellerFields()">
                                    <label for="tipo-cliente">üë§ Cliente</label>
                                </div>
                                <div class="radio-item">
                                    <input type="radio" id="tipo-vendedor" name="tipo" value="vendedor" onchange="toggleSellerFields()">
                                    <label for="tipo-vendedor">üè™ Vendedor</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="nome" class="form-label">Nome Completo *</label>
                            <input type="text" id="nome" class="form-input" required>
                            <div class="error-message" id="nome-error">Nome √© obrigat√≥rio</div>
                        </div>
                        <div class="form-group">
                            <label for="email" class="form-label">Email *</label>
                            <input type="email" id="email" class="form-input" required onblur="validateEmail()">
                            <div class="error-message" id="email-error">Por favor, insira um email v√°lido</div>
                        </div>
                        <div class="form-group">
                            <label for="senha" class="form-label">Senha *</label>
                            <input type="password" id="senha" class="form-input" required onkeyup="validatePassword()">
                            <div class="error-message" id="senha-error">A senha deve ter pelo menos 8 caracteres</div>
                        </div>
                        <div class="form-group">
                            <label for="confirmar-senha" class="form-label">Confirmar Senha *</label>
                            <input type="password" id="confirmar-senha" class="form-input" required onkeyup="validatePasswordMatch()">
                            <div class="error-message" id="confirmar-senha-error">As senhas n√£o coincidem</div>
                        </div>
                        <div class="form-group">
                            <label for="telefone" class="form-label">Telefone *</label>
                            <input type="tel" id="telefone" class="form-input" required>
                            <div class="error-message" id="telefone-error">Telefone √© obrigat√≥rio</div>
                        </div>
                        <div class="form-group">
                            <label for="cpf-cnpj-registro" class="form-label">CPF/CNPJ *</label>
                            <input type="text" id="cpf-cnpj-registro" class="form-input" placeholder="000.000.000-00 ou 00.000.000/0000-00" oninput="formatCpfCnpj(this)" onblur="validateCpfCnpjField()" required>
                            <div style="font-size: var(--font-size-sm); color: var(--color-text-secondary); margin-top: var(--space-1);">Aceita CPF (pessoa f√≠sica) ou CNPJ (pessoa jur√≠dica)</div>
                            <div class="error-message" id="cpf-cnpj-registro-error">CPF deve ter 11 d√≠gitos ou CNPJ deve ter 14 d√≠gitos</div>
                        </div>
                        <div id="seller-fields" class="seller-fields">
                            <div class="form-group">
                                <label for="nome-loja" class="form-label">Nome da Loja *</label>
                                <input type="text" id="nome-loja" class="form-input">
                                <div class="error-message" id="nome-loja-error">Nome da loja √© obrigat√≥rio para vendedores</div>
                            </div>
                            <div class="form-group">
                                <label for="categoria" class="form-label">Categoria de Produtos *</label>
                                <select id="categoria" class="form-select">
                                    <option value="">Selecione uma categoria</option>
                                    <option value="Cristais e Pedras">üîÆ Cristais e Pedras</option>
                                    <option value="Tar√¥ e Or√°culos">üÉè Tar√¥ e Or√°culos</option>
                                    <option value="Incensos e Velas">üïØÔ∏è Incensos e Velas</option>
                                    <option value="Amuletos e Talism√£s">üßø Amuletos e Talism√£s</option>
                                    <option value="Livros Esot√©ricos">üìö Livros Esot√©ricos</option>
                                    <option value="Outros">‚ú® Outros</option>
                                </select>
                                <div class="error-message" id="categoria-error">Categoria √© obrigat√≥ria para vendedores</div>
                            </div>
                            <div class="form-group">
                                <label for="descricao-loja" class="form-label">Descri√ß√£o da Loja</label>
                                <textarea id="descricao-loja" class="form-input form-textarea" placeholder="Conte sobre sua loja e produtos..."></textarea>
                            </div>
                        </div>
                        <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">Criar Conta</button>
                    </form>
                    <p class="text-center mt-6">
                        J√° tem uma conta? <a href="#" onclick="showPage('login')" style="color: var(--color-accent);">Fa√ßa login</a>
                    </p>
                </div>
            </section>

            <!-- Login Page -->
            <section id="login" class="page">
                <div class="form-container">
                    <h2 class="form-title">Entrar</h2>
                    <div id="login-messages"></div>
                    <form id="loginForm">
                        <div class="form-group">
                            <label for="login-email" class="form-label">Email</label>
                            <input type="email" id="login-email" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <label for="login-senha" class="form-label">Senha</label>
                            <input type="password" id="login-senha" class="form-input" required>
                        </div>
                        <div class="form-group">
                            <div class="radio-item">
                                <input type="checkbox" id="lembrar-me">
                                <label for="lembrar-me">Lembrar-me</label>
                            </div>
                        </div>
                        <button type="submit" class="btn" style="width: 100%;">Entrar</button>
                    </form>
                    <div class="divider">OU</div>
                    <button type="button" class="google-btn" onclick="handleGoogleLogin()">
                        <div class="google-icon"></div>
                        Entrar com Google
                    </button>
                    <p class="text-center mt-6">
                        <a href="#" style="color: var(--color-accent);">Esqueci minha senha</a>
                    </p>
                    <p class="text-center mt-6">
                        N√£o tem uma conta? <a href="#" onclick="showPage('registro')" style="color: var(--color-accent);">Registre-se</a>
                    </p>
                </div>
            </section>

            <!-- Vendor Registration Completion -->
            <section id="vendor-registration" class="page">
                <div class="form-container">
                    <h2 class="form-title">üè™ Complete seu Cadastro de Vendedor</h2>
                    <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6); text-align: center;">
                        Voc√™ est√° a poucos passos de come√ßar a vender no Marketplace M√≠stico!
                    </p>
                    <div id="vendor-registration-messages"></div>
                    <form id="vendorRegistrationForm">
                        <div class="form-group">
                            <label for="vendor-nome-loja" class="form-label">Nome da Loja *</label>
                            <input type="text" id="vendor-nome-loja" class="form-input" placeholder="Ex: Cristais da Lua" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="vendor-categoria" class="form-label">Categoria Principal *</label>
                            <select id="vendor-categoria" class="form-select" required>
                                <option value="">Selecione uma categoria</option>
                                <option value="Cristais e Pedras">üîÆ Cristais e Pedras</option>
                                <option value="Tar√¥ e Or√°culos">üÉè Tar√¥ e Or√°culos</option>
                                <option value="Incensos e Velas">üïØÔ∏è Incensos e Velas</option>
                                <option value="Amuletos e Talism√£s">üßø Amuletos e Talism√£s</option>
                                <option value="Livros Esot√©ricos">üìö Livros Esot√©ricos</option>
                                <option value="Servi√ßos M√≠sticos">‚ú® Servi√ßos M√≠sticos</option>
                                <option value="Outros">üåü Outros</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="vendor-descricao" class="form-label">Descri√ß√£o da Loja</label>
                            <textarea id="vendor-descricao" class="form-input" rows="4" placeholder="Conte aos clientes sobre sua loja e produtos..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label for="vendor-cpf-cnpj" class="form-label">CPF/CNPJ *</label>
                            <input type="text" id="vendor-cpf-cnpj" class="form-input" placeholder="000.000.000-00" oninput="formatCpfCnpj(this)" required>
                            <div class="error-message" id="vendor-cpf-cnpj-error">CPF/CNPJ inv√°lido</div>
                        </div>
                        
                        <button type="submit" class="btn" style="width: 100%;">‚ú® Tornar-se Vendedor</button>
                        <button type="button" class="btn btn-outline" onclick="cancelVendorRegistration()" style="width: 100%; margin-top: var(--space-3);">Cancelar</button>
                    </form>
                </div>
            </section>

            <!-- Seller Dashboard -->
            <section id="dashboard-vendedor" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Painel do Vendedor</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showDashboardSection('vendedor', 'produtos')">üì¶ Meus Produtos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'adicionar')">‚ûï Adicionar Produto</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'pedidos')">üìã Pedidos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'perfil')">üè™ Perfil da Loja</a></li>
                            <li><a onclick="showMyStore()">üëÅÔ∏è Ver Minha Loja</a></li>
                            <li class="sidebar-separator"><a onclick="showPage('marketplace')">üõí Comprar Produtos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'carrinho')">üõçÔ∏è Meu Carrinho</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    <main class="dashboard-content">
                        <div id="vendedor-overview">
                            <h2 class="welcome-message">Bem-vindo, <span id="seller-name"></span>!</h2>
                            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-8);">Gerencie sua loja <strong id="store-name"></strong> e acompanhe suas vendas.</p>
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <span class="stat-number">0</span>
                                    <div class="stat-label">Total de Produtos</div>
                                </div>
                                <div class="stat-card">
                                    <span class="stat-number">R$ 0,00</span>
                                    <div class="stat-label">Vendas do M√™s</div>
                                </div>
                                <div class="stat-card">
                                    <span class="stat-number">0</span>
                                    <div class="stat-label">Pedidos Pendentes</div>
                                </div>
                            </div>
                            <div class="text-center" style="padding: var(--space-8); background: var(--color-surface-light); border-radius: var(--radius-lg); border: 1px solid var(--color-border);">
                                <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Voc√™ ainda n√£o tem produtos cadastrados</h3>
                                <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Comece adicionando seus primeiros produtos m√≠sticos para come√ßar a vender!</p>
                                <button class="btn" onclick="showDashboardSection('vendedor', 'adicionar')">‚ûï Adicionar Novo Produto</button>
                            </div>
                        </div>
                    </main>
                </div>
            </section>

            <!-- Marketplace/Vitrine Page -->
            <section id="marketplace" class="page active">
                <div class="search-hero">
                    <h1>Marketplace M√≠stico</h1>
                    <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Descubra produtos m√≠sticos e espirituais √∫nicos</p>
                    <input type="text" id="search-input" class="search-input" placeholder="üîç Busque por produtos, categorias ou lojas..." oninput="filterProducts()">
                </div>
                <div class="category-filters">
                    <button class="filter-btn active" onclick="filterByCategory('Todos')">Todos</button>
                    <button class="filter-btn" onclick="filterByCategory('Cristais e Pedras')">üîÆ Cristais e Pedras</button>
                    <button class="filter-btn" onclick="filterByCategory('Tar√¥ e Or√°culos')">üÉè Tar√¥ e Or√°culos</button>
                    <button class="filter-btn" onclick="filterByCategory('Incensos e Velas')">üïØÔ∏è Incensos e Velas</button>
                    <button class="filter-btn" onclick="filterByCategory('Amuletos e Talism√£s')">üßø Amuletos</button>
                    <button class="filter-btn" onclick="filterByCategory('Livros Esot√©ricos')">üìö Livros</button>
                    <button class="filter-btn" onclick="filterByCategory('Servi√ßos M√≠sticos')">‚ú® Servi√ßos</button>
                    <button class="filter-btn" onclick="filterByCategory('Outros')">üåü Outros</button>
                </div>
                <div id="products-grid" class="products-grid"></div>
                <div id="no-products" class="text-center" style="display: none; padding: var(--space-8); color: var(--color-text-secondary);">
                    <h3>Nenhum produto encontrado</h3>
                    <p>Tente ajustar seus filtros de busca.</p>
                </div>
            </section>
            
            <!-- Product Detail Page -->
            <section id="product-detail" class="page">
                <div id="product-detail-content"></div>
            </section>
            
            <!-- Add Product Page -->
            <section id="add-product" class="page">
                <div class="form-container product-form">
                    <h2 class="form-title">Adicionar Produto</h2>
                    <div id="add-product-messages"></div>
                    <form id="addProductForm">
                        <div class="form-group">
                            <label for="product-name" class="form-label">Nome do Produto *</label>
                            <input type="text" id="product-name" class="form-input" required>
                            <div class="error-message" id="product-name-error">Nome do produto √© obrigat√≥rio</div>
                        </div>
                        <div class="form-group">
                            <label for="product-category" class="form-label">Categoria *</label>
                            <select id="product-category" class="form-select" required>
                                <option value="">Selecione uma categoria</option>
                                <option value="Cristais e Pedras">üîÆ Cristais e Pedras</option>
                                <option value="Tar√¥ e Or√°culos">üÉè Tar√¥ e Or√°culos</option>
                                <option value="Incensos e Velas">üïØÔ∏è Incensos e Velas</option>
                                <option value="Amuletos e Talism√£s">üßø Amuletos e Talism√£s</option>
                                <option value="Livros Esot√©ricos">üìö Livros Esot√©ricos</option>
                                <option value="Servi√ßos M√≠sticos">‚ú® Servi√ßos M√≠sticos</option>
                                <option value="Outros">üåü Outros</option>
                            </select>
                            <div class="error-message" id="product-category-error">Categoria √© obrigat√≥ria</div>
                        </div>
                        <div class="form-group">
                            <label for="product-description" class="form-label">Descri√ß√£o *</label>
                            <textarea id="product-description" class="form-input form-textarea" rows="4" required placeholder="Descreva seu produto, seus benef√≠cios e como pode ajudar o cliente..."></textarea>
                            <div class="error-message" id="product-description-error">Descri√ß√£o √© obrigat√≥ria</div>
                        </div>
                        <div class="form-group">
                            <label for="product-price" class="form-label">Pre√ßo (R$) *</label>
                            <input type="number" id="product-price" class="form-input" step="0.01" min="0" required placeholder="0.00">
                            <div class="error-message" id="product-price-error">Pre√ßo √© obrigat√≥rio</div>
                        </div>
                        <div class="form-group">
                            <label for="product-stock" class="form-label">Estoque *</label>
                            <input type="number" id="product-stock" class="form-input" min="0" required placeholder="0">
                            <div class="error-message" id="product-stock-error">Estoque √© obrigat√≥rio</div>
                        </div>
                        <div class="form-group">
                            <label for="product-image" class="form-label">URL da Imagem</label>
                            <input type="url" id="product-image" class="form-input" placeholder="https://exemplo.com/imagem.jpg">
                        </div>
                        <div class="form-group">
                            <div class="radio-item">
                                <input type="checkbox" id="product-published" checked>
                                <label for="product-published">Publicar produto imediatamente</label>
                            </div>
                        </div>
                        <div style="display: flex; gap: var(--space-4);">
                            <button type="submit" class="btn" style="flex: 1;">Salvar Produto</button>
                            <button type="button" class="btn btn-outline" onclick="cancelAddProduct()" style="flex: 1;">Cancelar</button>
                        </div>
                    </form>
                </div>
            </section>
            
            <!-- Seller Products Page -->
            <section id="seller-products" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Painel do Vendedor</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showDashboardSection('vendedor', 'produtos')">üì¶ Meus Produtos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'adicionar')">‚ûï Adicionar Produto</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'pedidos')">üìã Pedidos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'perfil')">üè™ Perfil da Loja</a></li>
                            <li><a onclick="showMyStore()">üëÅÔ∏è Ver Minha Loja</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    <main class="dashboard-content">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                            <h2>Meus Produtos</h2>
                            <button class="btn" onclick="showDashboardSection('vendedor', 'adicionar')">‚ûï Adicionar Produto</button>
                        </div>
                        <div id="seller-products-content"></div>
                    </main>
                </div>
            </section>

            <!-- Seller Profile Page -->
            <section id="seller-profile" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Painel do Vendedor</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showDashboardSection('vendedor', 'produtos')">üì¶ Meus Produtos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'adicionar')">‚ûï Adicionar Produto</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'pedidos')">üìã Pedidos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'perfil')">üè™ Perfil da Loja</a></li>
                            <li><a onclick="showMyStore()">üëÅÔ∏è Ver Minha Loja</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    <main class="dashboard-content">
                        <div id="profile-view-mode">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                                <h2>Perfil da Loja</h2>
                                <button class="btn" onclick="enterEditMode()">‚úèÔ∏è Editar Perfil</button>
                            </div>
                            <div class="card" style="margin-bottom: var(--space-6);">
                                <div class="card__body">
                                    <div class="form-group">
                                        <label class="form-label">Nome da Loja:</label>
                                        <div id="display-nome-loja" style="font-weight: 600; color: var(--color-text);"></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Descri√ß√£o:</label>
                                        <div id="display-descricao-loja" style="color: var(--color-text-secondary);"></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Categoria:</label>
                                        <div id="display-categoria"></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">CPF/CNPJ:</label>
                                        <div id="display-cpf-cnpj"></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email:</label>
                                        <div id="display-email" style="color: var(--color-text-secondary);"></div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Total de Produtos:</label>
                                        <div id="display-total-produtos" style="font-weight: 600; color: var(--color-success);"></div>
                                    </div>
                                </div>
                            </div>
                            <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Meus Produtos</h3>
                            <div id="profile-products-list"></div>
                        </div>
                        <div id="profile-edit-mode" style="display: none;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                                <h2>Editar Perfil da Loja</h2>
                            </div>
                            <div id="profile-edit-messages"></div>
                            <form id="editProfileForm" class="card">
                                <div class="card__body">
                                    <div class="form-group">
                                        <label for="edit-nome-loja" class="form-label">Nome da Loja *</label>
                                        <input type="text" id="edit-nome-loja" class="form-input" required>
                                        <div class="error-message" id="edit-nome-loja-error">Nome da loja √© obrigat√≥rio</div>
                                    </div>
                                    <div class="form-group">
                                        <label for="edit-descricao-loja" class="form-label">Descri√ß√£o da Loja</label>
                                        <textarea id="edit-descricao-loja" class="form-input form-textarea" rows="4" placeholder="Conte sobre sua loja e produtos..."></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="edit-categoria" class="form-label">Categoria de Produtos *</label>
                                        <select id="edit-categoria" class="form-select" required>
                                            <option value="">Selecione uma categoria</option>
                                            <option value="Cristais e Pedras">üîÆ Cristais e Pedras</option>
                                            <option value="Tar√¥ e Or√°culos">üÉè Tar√¥ e Or√°culos</option>
                                            <option value="Incensos e Velas">üïØÔ∏è Incensos e Velas</option>
                                            <option value="Amuletos e Talism√£s">üßø Amuletos e Talism√£s</option>
                                            <option value="Livros Esot√©ricos">üìö Livros Esot√©ricos</option>
                                            <option value="Outros">‚ú® Outros</option>
                                        </select>
                                        <div class="error-message" id="edit-categoria-error">Categoria √© obrigat√≥ria</div>
                                    </div>
                                    <div class="form-group">
                                        <label for="edit-cpf-cnpj" class="form-label">CPF/CNPJ</label>
                                        <input type="text" id="edit-cpf-cnpj" class="form-input" placeholder="000.000.000-00 ou 00.000.000/0000-00" oninput="formatCpfCnpj(this)" onblur="validateEditCpfCnpjField()">
                                        <div class="error-message" id="edit-cpf-cnpj-error">CPF deve ter 11 d√≠gitos ou CNPJ deve ter 14 d√≠gitos</div>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">Email (n√£o edit√°vel):</label>
                                        <div id="edit-display-email" style="color: var(--color-text-secondary); font-style: italic;"></div>
                                    </div>
                                    <div style="display: flex; gap: var(--space-4); margin-top: var(--space-6);">
                                        <button type="submit" class="btn" style="flex: 1; background: var(--color-success); color: white;">üíæ Salvar Altera√ß√µes</button>
                                        <button type="button" class="btn btn-outline" onclick="cancelEditMode()" style="flex: 1;">‚ùå Cancelar</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </main>
                </div>
            </section>

            <!-- Customer Dashboard -->
            <section id="dashboard-cliente" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Menu do Cliente</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showPage('marketplace')">üîç Explorar Produtos</a></li>
                            <li><a onclick="showDashboardSection('cliente', 'carrinho')">üõí Meu Carrinho</a></li>
                            <li><a onclick="showDashboardSection('cliente', 'pedidos')">üìã Meus Pedidos</a></li>
                            <li><a onclick="showDashboardSection('cliente', 'perfil')">üë§ Perfil</a></li>
                            <li class="sidebar-separator"><a onclick="showBecomeVendorModal()">üè™ Tornar-se Vendedor</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    <main class="dashboard-content">
                        <div id="cliente-overview">
                            <h2 class="welcome-message">Bem-vindo, <span id="customer-name"></span>!</h2>
                            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-8);">Explore nosso marketplace de produtos m√≠sticos e espirituais.</p>
                            <div style="margin-bottom: var(--space-8);">
                                <input type="text" class="form-input" placeholder="üîç Busque por produtos, categorias ou lojas..." style="font-size: var(--font-size-lg); padding: var(--space-4);">
                            </div>
                            <h3 style="color: var(--color-secondary); margin-bottom: var(--space-6);">Categorias em Destaque</h3>
                            <div class="categories-grid">
                                <div class="category-card" onclick="goToMarketplaceWithCategory('Cristais e Pedras')">
                                    <div class="category-icon">üîÆ</div>
                                    <div class="category-title">Cristais e Pedras</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Energia e cura natural</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory('Tar√¥ e Or√°culos')">
                                    <div class="category-icon">üÉè</div>
                                    <div class="category-title">Tar√¥ e Or√°culos</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Orienta√ß√£o e autoconhecimento</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory('Incensos e Velas')">
                                    <div class="category-icon">üïØÔ∏è</div>
                                    <div class="category-title">Incensos e Velas</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Aromaterapia e rituais</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory('Amuletos e Talism√£s')">
                                    <div class="category-icon">üßø</div>
                                    <div class="category-title">Amuletos e Talism√£s</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Prote√ß√£o e sorte</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory('Livros Esot√©ricos')">
                                    <div class="category-icon">üìö</div>
                                    <div class="category-title">Livros Esot√©ricos</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Conhecimento m√≠stico</p>
                                </div>
                                <div class="category-card" onclick="goToMarketplaceWithCategory('Outros')">
                                    <div class="category-icon">‚ú®</div>
                                    <div class="category-title">Outros</div>
                                    <p style="color: var(--color-text-secondary); font-size: var(--font-size-sm);">Produtos √∫nicos</p>
                                </div>
                            </div>
                            <div class="text-center mt-6" style="padding: var(--space-8); background: var(--color-surface-light); border-radius: var(--radius-lg); border: 1px solid var(--color-border);">
                                <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Explore nosso marketplace de produtos m√≠sticos</h3>
                                <p style="color: var(--color-text-secondary);">Descubra vendedores √∫nicos e produtos especiais para sua jornada espiritual.</p>
                            </div>
                        </div>
                    </main>
                </div>
            </section>
            
            <!-- Cart Page -->
            <section id="carrinho" class="page">
                <div class="container">
                    <nav class="breadcrumb">
                        <a onclick="showPage('marketplace')">üè† Home</a>
                        <span class="breadcrumb-separator">&gt;</span>
                        <a onclick="showPage('marketplace')">Explorar Produtos</a>
                        <span class="breadcrumb-separator">&gt;</span>
                        <span>Carrinho</span>
                    </nav>
                    <div style="text-align: center; margin-bottom: var(--space-8);">
                        <h1 style="color: var(--color-secondary); margin-bottom: var(--space-2);">Meu Carrinho</h1>
                        <p id="cart-subtitle" style="color: var(--color-text-secondary);">0 itens no carrinho</p>
                    </div>
                    <div id="cart-items"></div>
                    <div style="background: var(--color-surface-light); padding: var(--space-6); border-radius: var(--radius-lg); margin-top: var(--space-6); text-align: right;">
                        <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">Subtotal: <span id="cart-subtotal">R$ 0,00</span></h3>
                        <button class="btn" style="padding: var(--space-3) var(--space-8);">Finalizar Compra</button>
                    </div>
                </div>
            </section>
            
            <!-- Cliente Orders Page -->
            <section id="cliente-pedidos" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Menu do Cliente</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showPage('marketplace')">üîç Explorar Produtos</a></li>
                            <li><a onclick="showDashboardSection('cliente', 'carrinho')">üõí Meu Carrinho</a></li>
                            <li><a onclick="showDashboardSection('cliente', 'pedidos')">üìã Meus Pedidos</a></li>
                            <li><a onclick="showDashboardSection('cliente', 'perfil')">üë§ Perfil</a></li>
                            <li class="sidebar-separator"><a onclick="showBecomeVendorModal()">üè™ Tornar-se Vendedor</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    <main class="dashboard-content">
                        <h2 style="margin-bottom: var(--space-6);">Meus Pedidos</h2>
                        <div id="cliente-orders-content">
                            <div class="empty-state" style="text-align: center; padding: var(--space-12); background: var(--color-surface-light); border-radius: var(--radius-lg);">
                                <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">üì¶ Voc√™ ainda n√£o fez nenhum pedido</h3>
                                <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Explore nosso marketplace e fa√ßa seu primeiro pedido!</p>
                                <button class="btn" onclick="showPage('marketplace')">üîç Explorar Produtos</button>
                            </div>
                        </div>
                    </main>
                </div>
            </section>
            
            <!-- Vendedor Orders Page -->
            <section id="vendedor-pedidos" class="page">
                <div class="dashboard-layout">
                    <aside class="sidebar">
                        <h3>Painel do Vendedor</h3>
                        <ul class="sidebar-nav">
                            <li><a onclick="showDashboardSection('vendedor', 'produtos')">üì¶ Meus Produtos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'adicionar')">‚ûï Adicionar Produto</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'pedidos')">üìã Pedidos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'perfil')">üè™ Perfil da Loja</a></li>
                            <li><a onclick="showMyStore()">üëÅÔ∏è Ver Minha Loja</a></li>
                            <li class="sidebar-separator"><a onclick="showPage('marketplace')">üõí Comprar Produtos</a></li>
                            <li><a onclick="showDashboardSection('vendedor', 'carrinho')">üõçÔ∏è Meu Carrinho</a></li>
                            <li><a onclick="logout()">üö™ Sair</a></li>
                        </ul>
                    </aside>
                    <main class="dashboard-content">
                        <h2 style="margin-bottom: var(--space-6);">Pedidos Recebidos</h2>
                        <div id="vendedor-orders-content">
                            <div class="empty-state" style="text-align: center; padding: var(--space-12); background: var(--color-surface-light); border-radius: var(--radius-lg);">
                                <h3 style="color: var(--color-secondary); margin-bottom: var(--space-4);">üì¶ Nenhum pedido recebido ainda</h3>
                                <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Quando voc√™ receber pedidos, eles aparecer√£o aqui.</p>
                                <button class="btn" onclick="showDashboardSection('vendedor', 'produtos')">üì¶ Ver Meus Produtos</button>
                            </div>
                        </div>
                    </main>
                </div>
            </section>
            
            <!-- Store Page -->
            <section id="store-page" class="page">
                <div class="store-page">
                    <nav class="breadcrumb">
                        <a onclick="showPage('marketplace')">üè† Home</a>
                        <span class="breadcrumb-separator">&gt;</span>
                        <a onclick="showPage('marketplace')">Explorar Produtos</a>
                        <span class="breadcrumb-separator">&gt;</span>
                        <span id="store-breadcrumb-name">Loja</span>
                    </nav>
                    <div class="store-header">
                        <div class="store-header-content">
                            <div class="store-avatar" id="store-avatar"></div>
                            <div class="store-info">
                                <h1 id="store-name-display">Nome da Loja</h1>
                                <div class="store-category">
                                    <span>‚≠ê</span>
                                    <span id="store-category-display">Categoria</span>
                                </div>
                                <div class="store-description" id="store-description-display"></div>
                                <div class="store-stats">
                                    <div class="store-stat">
                                        <span>üì¶</span>
                                        <span><span id="store-products-count">0</span> Produtos</span>
                                    </div>
                                    <div class="store-stat">
                                        <span>üìÖ</span>
                                        <span>Membro desde <span id="store-member-since">Out 2024</span></span>
                                    </div>
                                </div>
                            </div>
                            <div class="store-actions">
                                <button class="store-contact-btn" onclick="contactSeller()">
                                    üí¨ Contatar Vendedor
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="store-products-section">
                        <h2>Produtos de <span id="store-products-title">Esta Loja</span></h2>
                        <div class="category-filters" id="store-category-filters">
                            <button class="filter-btn active" onclick="filterStoreByCategory('Todos')">Todos</button>
                        </div>
                        <div id="store-products-grid" class="products-grid"></div>
                        <div id="store-empty-state" class="store-empty-state" style="display: none;">
                            <h3>Esta loja ainda n√£o tem produtos dispon√≠veis</h3>
                            <p style="color: var(--color-text-secondary); margin-bottom: var(--space-6);">Volte em breve para ver novos produtos!</p>
                            <button class="btn btn-outline" onclick="showPage('marketplace')">‚Üê Voltar ao Marketplace</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script src="app.js"></script>
</body>
</html>
